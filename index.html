<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>UCT Eyewitness Lab</title>

    <link rel="stylesheet" type="text/css" href="/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="/css/font-awesome.css" />

    <script src="/js/vendor/require.js"></script>
    <script src="/js/main.js"></script>
</head>
<body>
    <div id="page-wrapper">
        <header id="nav"></header>
        <div id="page"></div>
        <footer id="footer"></footer>
    </div>

    <script type="text/javascript">
        // Ensure that Bootstrap initializes
        require(['bootstrap'], void(0));

        require(['app/app', 'app/routers/site-router', 'app/routers/user-admin-router', 'app/routers/material-admin-router', 'app/views/site-nav'], function(App, SiteRouter, UserAdminRouter, MaterialAdminRouter, SiteNavigationView){
            App.addInitializer(function(options){
                new SiteRouter();
                new UserAdminRouter();
                new MaterialAdminRouter();
            });

            App.addInitializer(function(options){
                App.getRegion('nav').show(new SiteNavigationView());
            });

            App.on("start", function(){
                Backbone.history.start();
            });

            App.start();
        });
    </script>
</body>
</html>